<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contato</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
  <header class="header">
    <a href="#" class="logo">
      <img src="img/logo.png" alt="Logo" height="35" width="85">
    </a>
    <nav class="navbar">
      <a href="index.html">Home</a>
      <a href="vida_saudavel.html">Vida Saudável</a>
      <a href="calculadora.html">Calculadora IMC</a>
      <a href="contato.html" class="active">Contato</a>
      <a href="about.html">Sobre</a>
    </nav>
  </header>

  <div class="container">
    <div class="form-container">
      <h2>Formulário de Contato</h2>
      <form id="formularioContato">
        <div class="form-group">
          <label for="nome">Nome completo:</label>
          <input type="text" id="nome" name="nome" required>
        </div>
        <div class="form-group">
          <label for="email">Email:</label><br>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="telefone">Telefone:</label>
          <input type="tel" id="telefone" name="telefone" required>
        </div>
        <button type="submit">ENVIAR</button>
      </form>
    </div>
    <div id="map" class="map-container"></div>
  </div>

  <footer class="footer">
    <div class="container">
      <div>
        <h5 class="footer-title">Informações sobre Obesidade</h5>
        <ul class="footer-links">
          <li><a href="about.html">Sobre Nós</a></li>
          <li><a href="terms.html">Termos de Uso</a></li>
          <li><a href="privacy.html">Política de Privacidade</a></li>
          <li><a href="contact.html">Contato</a></li>
        </ul>
      </div>
      <div>
        <h5 class="footer-title">Serviços</h5>
        <ul class="footer-links">
          <li><a href="services.html">Consultoria</a></li>
          <li><a href="programs.html">Programas de Saúde</a></li>
          <li><a href="support.html">Suporte</a></li>
          <li><a href="resources.html">Recursos</a></li>
        </ul>
      </div>
      <div>
        <h5 class="footer-title">Blog</h5>
        <ul class="footer-links">
          <li><a href="news.html">Notícias</a></li>
          <li><a href="articles.html">Artigos</a></li>
          <li><a href="tips.html">Dicas de Saúde</a></li>
          <li><a href="stories.html">Histórias de Sucesso</a></li>
        </ul>
      </div>
      <div>
        <h5 class="footer-title">Siga-nos</h5>
        <div class="social-icons">
          <a href="https://www.instagram.com"><i class="fab fa-instagram"></i></a>
          <a href="https://x.com"><i class="fab fa-twitter"></i></a>
          <a href="https://tiktok.com"><i class="fab fa-tiktok"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase.js"></script>
  <script src="database.js"></script>
  <script>
    let map;

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else {
      alert("Geolocation is not supported by this browser.");
    }

    function showPosition(position) {
      let lat = position.coords.latitude;
      let lon = position.coords.longitude;
      initMap(lat, lon);
      findNearbyGyms(lat, lon);
    }

    function showError(error) {
      alert("Geolocation error: " + error.message);
    }

    function initMap(lat, lon) {
      map = L.map('map').setView([lat, lon], 13);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      }).addTo(map);
      L.marker([lat, lon]).addTo(map).bindPopup('You are here').openPopup();
    }

    function findNearbyGyms(lat, lon) {
      let overpassUrl = "https://overpass-api.de/api/interpreter?data=[out:json];node[leisure=fitness_centre](around:2000," + lat + "," + lon + ");out;";
      fetch(overpassUrl)
        .then(response => response.json())
        .then(data => {
          let gyms = data.elements;
          gyms.forEach(gym => {
            L.marker([gym.lat, gym.lon]).addTo(map).bindPopup(gym.tags.name || "Gym");
          });
        })
        .catch(error => {
          alert("Error querying Overpass API: " + error.message);
        });
    }
  </script>
</body>
</html>
